<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blog Post</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
    }
  </script>
  <style>
    html {
      transition: background-color 0.3s ease, color 0.3s ease;
    }
  </style>
  <script>
    // Immediately set theme to avoid flash
    if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
    }
  </script>
</head>
<body class="bg-gradient-to-b from-white to-gray-100 dark:from-gray-900 dark:to-gray-800 text-gray-900 dark:text-gray-100 font-sans leading-relaxed flex flex-col min-h-full">
  <header class="bg-white dark:bg-gray-900 shadow-md sticky top-0 z-10">
    <div class="container mx-auto px-4 py-6 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-gray-800 dark:text-gray-100">My Blog</h1>
      <button onclick="toggleTheme()" class="text-gray-700 dark:text-gray-300 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition">
        <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        </svg>
      </button>
    </div>
  </header>

  <main class="container mx-auto px-4 py-10 flex-grow">
    <article class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-md hover:shadow-xl transition duration-300">
      <h1 class="text-4xl font-bold mb-4 text-gray-800 dark:text-gray-100">{{posts.title}}</h1>
      <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Posted on {{posts.created_at}}</p>
      <div class="prose max-w-none text-gray-800 dark:text-gray-300">
        <p>{{posts.body}}</p>
      </div>
    </article>
  </main>

  <footer class="bg-white dark:bg-gray-900 py-6 text-center text-gray-500 dark:text-gray-400 border-t dark:border-gray-700">
    &copy; 2025 My Blog. All rights reserved.
  </footer>

  <script>
    const icon = document.getElementById('theme-icon');
    function renderIcon() {
      if (document.documentElement.classList.contains('dark')) {
        icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" />';
      } else {
        icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8.66-13.66l-.7.7M4.34 19.66l-.7-.7m0-13.96l.7.7m16.32 13.96l.7-.7M21 12h1M2 12H1m3.34 6.66l.7-.7M19.66 4.34l.7.7M16 12a4 4 0 11-8 0 4 4 0 018 0z" />';
      }
    }

    function toggleTheme() {
      const htmlEl = document.documentElement;
      if (htmlEl.classList.contains('dark')) {
        htmlEl.classList.remove('dark');
        localStorage.setItem('theme', 'light');
      } else {
        htmlEl.classList.add('dark');
        localStorage.setItem('theme', 'dark');
      }
      renderIcon();
    }

    // Initial icon render
    renderIcon();
  </script>
</body>
</html>